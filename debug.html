<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –º–∞—Ä–∫–µ—Ä–æ–≤</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.1/dist/mindar-image-aframe.prod.js"></script>
    
    <style>
        #debug {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 15px;
            border-radius: 8px;
            z-index: 1000;
            font-family: monospace;
            font-size: 12px;
            max-width: 300px;
        }
        
        .marker-test {
            margin: 5px 0;
            padding: 5px;
            border: 1px solid #444;
            border-radius: 3px;
        }
        
        .found { background: #2d5a27; }
        .lost { background: #5a2727; }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            margin: 2px;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div id="debug">
        <h3>üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–∞—Ä–∫–µ—Ä–æ–≤</h3>
        <div>–°—Ç–∞—Ç—É—Å: <span id="status">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...</span></div>
        <hr>
        
        <div class="marker-test" id="result-0">
            <strong>Index 0:</strong> <span id="status-0">–û–∂–∏–¥–∞–Ω–∏–µ...</span><br>
            <small>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å: –ú–∞—Ä–∫–µ—Ä sin</small>
        </div>
        
        <div class="marker-test" id="result-1">
            <strong>Index 1:</strong> <span id="status-1">–û–∂–∏–¥–∞–Ω–∏–µ...</span><br>
            <small>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å: –ú–∞—Ä–∫–µ—Ä paraboloid</small>
        </div>
        
        <div class="marker-test" id="result-2">
            <strong>Index 2:</strong> <span id="status-2">–û–∂–∏–¥–∞–Ω–∏–µ...</span><br>
            <small>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å: –ú–∞—Ä–∫–µ—Ä saddle</small>
        </div>
        
        <div class="marker-test" id="result-3">
            <strong>Index 3:</strong> <span id="status-3">–û–∂–∏–¥–∞–Ω–∏–µ...</span><br>
            <small>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å: –ú–∞—Ä–∫–µ—Ä waves</small>
        </div>
        <div class="marker-test" id="result-4">
            <strong>Index 4:</strong> <span id="status-4">–û–∂–∏–¥–∞–Ω–∏–µ...</span><br>
            <small>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å: –ú–∞—Ä–∫–µ—Ä cone</small>
        </div>

        <div class="marker-test" id="result-5">
            <strong>Index 5:</strong> <span id="status-5">–û–∂–∏–¥–∞–Ω–∏–µ...</span><br>
            <small>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å: –ú–∞—Ä–∫–µ—Ä gaussian</small>
        </div>
        

        <hr>
        <button onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
        <div id="log" style="margin-top: 10px; font-size: 10px;"></div>
    </div>

    <a-scene mindar-image="imageTargetSrc: ./targets.mind; maxTrack: 4;"
             vr-mode-ui="enabled: false"
             device-orientation-permission-ui="enabled: false">
        
        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
        
        <!-- –í—Å–µ 4 –º–∞—Ä–∫–µ—Ä–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ -->
        <a-entity id="sin" mindar-image-target="targetIndex: 0">
            <a-sphere color="#e74c3c" radius="0.15" position="0 0.2 0"></a-sphere>
            <a-text value="INDEX 0" position="0 0.5 0" align="center" color="#e74c3c" scale="2 2 2"></a-text>
        </a-entity>
        
        <a-entity id="paraboloid" mindar-image-target="targetIndex: 1">
            <a-sphere color="#3498db" radius="0.15" position="0 0.2 0"></a-sphere>
            <a-text value="INDEX 1" position="0 0.5 0" align="center" color="#3498db" scale="2 2 2"></a-text>
        </a-entity>
        
        <a-entity id="saddle" mindar-image-target="targetIndex: 2">
            <a-sphere color="#9b59b6" radius="0.15" position="0 0.2 0"></a-sphere>
            <a-text value="INDEX 2" position="0 0.5 0" align="center" color="#9b59b6" scale="2 2 2"></a-text>
        </a-entity>
        
        <a-entity id="waves" mindar-image-target="targetIndex: 3">
            <a-sphere color="#f1c40f" radius="0.15" position="0 0.2 0"></a-sphere>
            <a-text value="INDEX 3" position="0 0.5 0" align="center" color="#f1c40f" scale="2 2 2"></a-text>
        </a-entity>

        <a-entity id="cone" mindar-image-target="targetIndex: 4">
            <a-sphere color="#f1c40f" radius="0.15" position="0 0.2 0"></a-sphere>
            <a-text value="INDEX 4" position="0 0.5 0" align="center" color="#f1c40f" scale="2 2 2"></a-text>
        </a-entity>

        <a-entity id="gaussian" mindar-image-target="targetIndex: 5">
            <a-sphere color="#f1c40f" radius="0.15" position="0 0.2 0"></a-sphere>
            <a-text value="INDEX 5" position="0 0.5 0" align="center" color="#f1c40f" scale="2 2 2"></a-text>
        </a-entity>
        
    </a-scene>

    <script>
        let logCount = 0;
        
        function addLog(message) {
            const logDiv = document.getElementById('log');
            logCount++;
            logDiv.innerHTML += `${logCount}: ${message}<br>`;
            logDiv.scrollTop = logDiv.scrollHeight;
            console.log(`[${logCount}] ${message}`);
        }
        
        function clearLog() {
            document.getElementById('log').innerHTML = '';
            logCount = 0;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –º–∞—Ä–∫–µ—Ä–∞
        function updateMarkerStatus(index, found) {
            const statusSpan = document.getElementById(`status-${index}`);
            const resultDiv = document.getElementById(`result-${index}`);
            
            if (found) {
                statusSpan.textContent = '–ù–ê–ô–î–ï–ù! ‚úÖ';
                statusSpan.style.color = '#4CAF50';
                resultDiv.classList.add('found');
                resultDiv.classList.remove('lost');
            } else {
                statusSpan.textContent = '–ü–æ—Ç–µ—Ä—è–Ω ‚ùå';
                statusSpan.style.color = '#f44336';
                resultDiv.classList.add('lost');
                resultDiv.classList.remove('found');
            }
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä–∫–µ—Ä–æ–≤
        for (let i = 0; i < 4; i++) {
            const marker = document.getElementById(`marker-${i}`);
            
            marker.addEventListener("targetFound", () => {
                updateMarkerStatus(i, true);
                addLog(`‚úÖ –ú–∞—Ä–∫–µ—Ä —Å INDEX ${i} –ù–ê–ô–î–ï–ù!`);
            });
            
            marker.addEventListener("targetLost", () => {
                updateMarkerStatus(i, false);
                addLog(`‚ùå –ú–∞—Ä–∫–µ—Ä —Å INDEX ${i} –ø–æ—Ç–µ—Ä—è–Ω`);
            });
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        setTimeout(() => {
            document.getElementById('status').textContent = '–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é';
            addLog('üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞. –ü–æ–¥–Ω–µ—Å–∏—Ç–µ –º–∞—Ä–∫–µ—Ä—ã –∫ –∫–∞–º–µ—Ä–µ.');
        }, 2000);
    </script>
</body>
</html>